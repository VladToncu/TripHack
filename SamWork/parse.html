<!DOCTYPE html>
<html>
<body>
<h1>W3Schools Internal Note</h1>
<div>
<b>Name:</b> <span id="name"></span><br>
<b>Rating:</b> <span id="rating"></span><br>
<b>Location:</b> <span id="location"></span><br>
<b>Number of elements: </b><span id="number"></span>
</div>

<script>
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }

xmlhttp.open("GET","file.xml",false);
xmlhttp.send();
xmlDoc=xmlhttp.responseXML;
var size = xmlDoc.getElementsByTagName("rating").length;
var results = [];
var iMax = size;
var jMax = 5;
var results = new Array();

for (i=0;i<iMax;i++) {
 results[i]=new Array();
 for (j=0;j<jMax;j++) {
  results[i][j]=0;
 }
}
window.alert(size);
for(i = 0; i<size; i++){
results[i][0]=xmlDoc.getElementsByTagName("name")[i].childNodes[0].nodeValue;
try{
results[i][1]=xmlDoc.getElementsByTagName("rating")[i].childNodes[0].nodeValue;

}
catch(err){
results[i][1]=0;
window.alert("no rating"+i);

}
results[i][2]=xmlDoc.getElementsByTagName("lng")[i].childNodes[0].nodeValue;
results[i][3]=xmlDoc.getElementsByTagName("lat")[i].childNodes[0].nodeValue;
}

document.getElementById("name").innerHTML=
xmlDoc.getElementsByTagName("name")[0].childNodes[0].nodeValue;
document.getElementById("rating").innerHTML=
xmlDoc.getElementsByTagName("rating")[0].childNodes[0].nodeValue;
document.getElementById("location").innerHTML=
xmlDoc.getElementsByTagName("lng")[0].childNodes[0].nodeValue;
document.getElementById("number").innerHTML=(xmlDoc.getElementsByTagName("name").length);

</script>

</body>
</html>